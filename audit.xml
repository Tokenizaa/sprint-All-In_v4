```md
# üîç PROMPT DE AUDITORIA, REESTRUTURA√á√ÉO E MANUTEN√á√ÉO COMPLETA DO C√ìDIGO

<task>
  <objective>
    Realizar uma auditoria completa em **todas as pastas, arquivos e m√≥dulos da plataforma**, incluindo:
    - Front-end
    - Back-end
    - Integra√ß√µes externas
    - Hooks
    - Componentes
    - Servi√ßos
    - Rotas
    - Formul√°rios
    - Webhooks
    - Fun√ß√µes RPC
    - Endpoints REST
    - L√≥gica de estado
    - Estrutura de pastas
    - Regras de neg√≥cio
  </objective>

  <requirements>
    1. Ler e analisar **100% dos arquivos** do projeto.
    2. Identificar:
       - Erros l√≥gicos ou sem√¢nticos
       - Bugs de fluxo
       - Trechos de c√≥digo redundantes
       - Duplicidades
       - Fun√ß√µes muito grandes (Refactor Needed)
       - C√≥digo n√£o modularizado
       - Falta de tipagem consistente
       - Viola√ß√µes de boas pr√°ticas
       - Consultas ineficientes
       - Partes que devem ser movidas para hooks, services ou utils
       - Poss√≠veis problemas de seguran√ßa
       - Partes que quebram padr√µes de arquitetura
    3. Propor e executar:
       - Refatora√ß√£o completa em componentes menores
       - Separa√ß√£o total entre front-end e back-end (se ainda n√£o estiver)
       - Cria√ß√£o de servi√ßos reutiliz√°veis
       - Melhoria da arquitetura com divis√£o clara:
         - /frontend
         - /backend
         - /core
         - /shared
       - Padroniza√ß√£o de nomenclatura
       - Melhoria de tipagem TypeScript
       - Otimiza√ß√£o de performance
       - Corre√ß√£o de fluxos inconsistentes
       - Melhoria de formul√°rios e valida√ß√µes
       - Corre√ß√£o de endpoints e chamadas Supabase
    4. No final:
       - Gerar um relat√≥rio t√©cnico completo
       - Gerar o c√≥digo refatorado FINAL e corrigido
       - Entregar tudo j√° organizado e pronto para uso
  </requirements>

  <fallback>
    Se durante a auditoria houver falha na cadeia de racioc√≠nio, perda de contexto ou interrup√ß√£o,
    **retome automaticamente pelo hist√≥rico local do projeto**.

    Caso a LLM fique travada por **mais de 20 segundos sem progresso**, utilize fallback para respostas
    baseadas em:
    - An√°lise estrutural de arquivos
    - Hist√≥rico do cliente no banco de dados
    - Padr√µes pr√©-existentes do projeto
  </fallback>

  <deep_analysis>
    Executar an√°lise em m√∫ltiplas camadas:
    - <layer1>Estrutura de pastas</layer1>
    - <layer2>Arquitetura atual</layer2>
    - <layer3>Qualidade dos componentes</layer3>
    - <layer4>Qualidade da l√≥gica</layer4>
    - <layer5>Ader√™ncia a boas pr√°ticas</layer5>
    - <layer6>Fluxos de usu√°rio</layer6>
    - <layer7>Fluxos ass√≠ncronos</layer7>
    - <layer8>Seguran√ßa</layer8>
    - <layer9>Conex√µes de dados</layer9>
    - <layer10>Performance</layer10>
  </deep_analysis>

  <deliverables>
    <d1>Relat√≥rio t√©cnico completo</d1>
    <d2>Plano de melhorias</d2>
    <d3>Refatora√ß√£o integral do c√≥digo</d3>
    <d4>Reorganiza√ß√£o estrutural do projeto</d4>
    <d5>Corre√ß√µes autom√°ticas de bugs</d5>
    <d6>Cria√ß√£o de componentes reutiliz√°veis</d6>
    <d7>Vers√£o final revisada e otimizada</d7>
  </deliverables>

  <style>
    - Utilize explica√ß√µes diretas
    - Traga exemplos reais extra√≠dos do pr√≥prio c√≥digo
    - Mantenha padr√£o t√©cnico profissional
    - Sempre entregue o c√≥digo refatorado completo ao final
  </style>

</task>
```md
